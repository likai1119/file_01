<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>

        // 计算班级平均值和总成绩
        /* var arr = [2,11,6,25,78,54,14];
        var sum = 0;
        var average = 0;
        for (i = 0; i < arr.length ; i++){
            sum = sum + arr[i];
        }
        average = sum / arr.length;
        console.log(sum,average); */




        // //倒立三角五角星
        /* var str = '';
        for(i = 1; i < 10; i++){
            for(j = i; j < 10; j++){
                str = str + '☆'
            }
            str = str + '\n';
        }  
        console.log(str); */








        // //正三角五角星
        /* var str = '';
        for(var i = 1; i < 10; i++){
            for(var j = 1; j <= i; j++){
                str = str + '☆'
            }
            str = str + '\n';
        }  
        console.log(str); */






        // //九九乘法表
        /*  var str = '';
         for (var i = 1; i < 10 ; i++){
             for(var j = 1; j <= i; j++){
                 str += j + 'x' + i + '=' + j * i + '\t'; 
             }
             str = str + '\n';
         }
         console.log(str); */







        // 求1--100累加
        /* var sum = 0;
        for (var i = 1; i <= 100; i++){
            sum += i;
        }
        console.log(sum); */






        // //求数组中最大的值
        /* var arr = [2,45,14,85,63,54,74];
        var max = arr[0];
        for (var i = 1; i < arr.length; i++){
            if(max < arr[i]){
                max = arr[i];
            }
        }
        console.log(max); */







        // 利用for循环新增数组元素
        /*  var arr = [];
         for (var i = 0; i < 10; i++){
             arr[i] = i + 1;
         }
         console.log(arr); */



        //数组筛选
        /* var arr = [0,2,5,10,48,52,32,14,74,5,4,6];
        var newArr = [];
        var j = 0;
        for (var i = 0 ; i < arr.length; i++){
            if(arr[i] > 10){
                newArr[j] = arr[i];
                j++;
            }
        }
        console.log(newArr); */



        //数组筛选第二种方法
        /* var arr = [0,2,5,10,48,52,32,14,74,5,4,6];
        var newArr = [];
        for (var i = 0 ; i < arr.length; i++){
            if(arr[i] > 10){
                newArr[newArr.length] = arr[i];
            }
        }
        console.log(newArr); */




        //翻转数组
        /*  var arr = [1,2,3,4,5]
         var newArr = [];
         for (var i = 0 ; i < arr.length; i++){
             newArr[arr.length-i-1] = arr[i];
         }
         console.log(newArr); */


        // 第二种翻转数组方法
        /* var arr = [1,2,3,4,5]
        var newArr = [];
        for (var i = arr.length-1 ; i >= 0; i--){
            newArr[newArr.length] = arr[i];
        }
        console.log(newArr); */




        // 数组排序，冒泡排序升序
        /* var arr = [5,4,3,2,1];
        for (i = 0; i < arr.length; i++){
            for(j = 0; j < arr.length -i ; j++){
                if(arr[j] > arr[j + 1]){
                    var temp = arr[j];
                    arr[j] = arr[j+1];
                    arr[j+1] = temp;
                }
            }
        }
        console.log(arr); */




        // 用函数封装1-100的求和

        /* function getsum() {
            var sum = 0;
            for (var i = 1; i <= 100; i++){
            sum += i;
        }
        console.log(sum);
        }
        getsum();
        */



        //正确的函数封装1-100的求和
        /* function getsum (start,end){
            var sum = 0;
            for (var i = start; i <= end; i++){
                sum += i;
            }
            return sum;
        }
        console.log(getsum(1,100)); */




        // 利用函数求任意个数的最大值
        /* function getMax(){
            var max = arguments[0];
            for(var i = 1; i < arguments.length; i++){
                if(arguments[i] > max){
                    max = arguments[i];
                }
            }
            return max;
        }
        console.log(getMax(1,2,3));
        console.log(getMax(1,2,3,4,5));
        console.log(getMax(11,52,43,54,75)); */




        // 函数的相互调用  
        /* function fn1() {
            console.log(111);
            fn2();
            console.log('fn1');
        }
        function fn2() {
            console.log(222);
            console.log('fn2');
        }
        fn1(); */



        // 结果是几
        /* function f1(){
            var num = 123;
            function f2(){
                console.log(num);
            }
            f2();
        }
        var num = 456;
        f1(); */


        // 创建对象案例
        /* var str = {
            uname: '可可',
            type:'阿拉斯加犬',
            age: '5岁',
            Color: '棕红色',
            take: function() {
                console.log('汪汪汪');
                console.log('演电影');
            }
        }
        console.log(str.uname);
        str.take();
 */



        // 利用new object 创建对象

        /*  var obj = new Object();
         obj.name = '鸣人';
         obj.sex = '男';
         obj.age = '19岁';
         obj.skill = function () {
             console.log('影分身术');
         }
         console.log(obj.name);
         console.log(obj.age);
         obj.skill(); */




        // 创建电脑对象
        /*  var obj = {
             color:'蓝色',
             weight:'5kg',
             w:123,
             X:7,
             take:function(){
                 console.log('打游戏');
             }
         }
         console.log(obj.color);
         console.log(obj['weight']);
         obj.take() */


        // 创建按钮对象

        /* var obj = new Object();
        obj.width = '10px';
        obj.height = '20px';
        obj.bgc = 'pink';
        obj.skill = function(){
            console.log('点击行为');
        }
        console.log(obj.width);
        console.log(obj.height);
        obj.skill(); */


        //创建一个车对象(封装)
        /*  function Stay (weight,color,paizi){
             this.weight = weight;
             this.color = color;
             this.paizi = paizi;
             this.ks = function(){
                 console.log('载人');
                 console.log('拉货');
                 console.log('耕田');
             }
         }
         var car = new Stay('500kg','Skyblue','奥迪');
         console.log(car.weight);
         console.log(car.color);
         console.log(car.paizi);
         car.ks();
  */




        // 封装翻转数组
        /* var arr = [1,2,3,4,5]
        var newArr = [];
        function f1(){
            for (var i = 0 ; i < arr.length; i++){
            newArr[arr.length-i-1] = arr[i];
            }
            console.log(newArr);
        }
        f1(); */



        // 封装数组的升序排序
        /*   var arr = [21,58,412,452,142,14]
          function f1(){
              for(var i = 0; i <= arr.length-1; i++){
                  for(var j = 0; j <= arr.length - i - 1; j++){
                      if (arr[j] > arr[j+1]){
                          var temp = arr[j];
                          arr[j] = arr[j+1];
                          arr[j+1] = temp;
                      }
                  }
              }
              console.log(arr);
          }
          f1(); */



        // 利用对象封装自己的数学对象，里面有PI最大值和最小值
        /* var myMath = {
            PI:3.1415926,
            max:function(){
                var max = arguments[0];
                for (var i = 1; i < arguments.length; i++){
                    if(arguments[i] > max){
                        max = arguments[i];
                    }
                }
                return max;
            },
        min:function(){
                var min = arguments[0];
                for (var i = 1; i < arguments.length; i++){
                    if(arguments[i] < min){
                        min = arguments[i];
                    }
                }
                return min;
            }
        }
        console.log(myMath.PI);
        console.log(myMath.max(1,5,9));
        console.log(myMath.min(1,5,9)); */



        // 封装取两个数之间的随机整数，并且包含这2个整数
        /* function getRandom(min,max){
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        console.log(getRandom(1,10));



        // 随机点名
        var arr = ['张三','张三丰','李四','李思思',];
        console.log(arr[getRandom(0,4)]);
 */



        // 猜数字游戏
        /* function getRandom(min,max){
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        var random = getRandom(1,50);
       for(var i = 1; i <= 10; i++){
            var num = prompt("你来猜，输入一个1-10之间的数字：");
            if( num > random){
              alert('你猜大了');
            }else if( num < random) {
                alert('你猜小了')
            }else if( num == random){
                alert('你太帅了，猜对了');
                break;
            }
            if( i == 10) {
                alert('你没机会了');
                break;
            }
        } */




        // 封装一个函数，返回当前时间时分秒
        /* function getTime() {
            var time = new Date();
            var h = time.getHours();
            h = h < 10 ? '0' + h : h;
            var m = time.getMinutes();
            m = m < 10 ? '0' + m : m;
            var s = time.getSeconds();
            s = s < 10 ? '0' + s : s;
            return h + ':' + m + ':' + s + '';
        }
        console.log(getTime()); */


        //倒计时效果
        /*  function countDown(time) {
             var nowTime = +new Date();//返回的是当前时间总的秒数
             var inputTime = +new Date(time);//返回的是用户输入时间总的毫秒数
             var times = (inputTime - nowTime) / 1000;//times是剩余时间总的秒数
             var d = parseInt(times / 60 / 60 / 24);//天
             d = d < 10 ? '0' + d : d;
             var h = parseInt(times / 60 / 60 % 24);//时
             h = h < 10 ? '0' + h : h;
             var m = parseInt(times / 60 %60);//分
             m = m < 10 ? '0' + m : m;
             var s = parseInt(times % 60);//秒
             s = s < 10 ? '0' + s : s;
             return d + '天' + h + '时' + m + '分' + s + '秒';
         }
         console.log(countDown('2022-3-12 16:00:00')); */



        // 有一个包含工资的数组【1500,1200,2000，2100,1800】，要求把数组中工资超过2000的删除，剩余的放到新数组里面
        /* var arr = [1500,1200,2000,2100,1800];
        var newArr = [];
        for(i = 0; i < arr.length; i++){
            if(arr[i] < 2000 ){
                newArr.push(arr[i]);
            }
        } 
        console.log(newArr); */



        //封装数组去重（重点案例）
        /* function unique(arr) {
            var newArr = [];
            for(var i = 0; i < arr.length; i++){
                if (newArr.indexOf(arr[i]) === -1){
                    newArr.push(arr[i]);
                }
            }
            return newArr;
        }
        var demo = unique(['c', 'a' ,'z' ,'a' ,'x' ,'a' ,'x' ,'c' ,'b']);
        console.log(newArr); */



        //查找字符串abcoefoxyozzopp中所有o出现的位置以及次数
        /* var str = 'abcoefoxyozzopp';
        var index = str.indexOf('o');
        var num = 0;
        while (index !== -1) {
            console.log(index);
            num++;
            index = str.indexOf('o' , index + 1);
        }
        console.log('o出现的次数是' + num + '次'); */


        //    判断一个字符串'abcoefoxyozzopp'中出现次数最多的字符，并统计器次数
        /* var str = 'abcoefoxyozzopp';
        var o = {};
        for (var i = 0; i < str.length; i++){
            var chars = str.charAt(i);
            if (o[chars]) {
                o[chars]++;
            }else{
                o[chars] = 1;
            }
        }
        console.log(o);
        //遍历对象
        var max = 0;
        var ch = '';
        for (var k in o) {
            if(o[k] > max){
                max = o[k];
                ch = k;
            }
        }
        console.log(max);
        console.log('最多的字符是' + ch); */



        // 简单数据类型传参

        /* function fn(a) {
            a++;
            console.log(a);
        }
        var x = 10;
        fn(x);
        console.log(x); */





        // 复杂数据类型传参
        /*  function Person(name){
             this.name = name;
         }
     
         function f1(x) {
             console.log(x.name);
             x.name = '张学友';
             console.log(x.name);
         }
         var p = new Person("刘德华");
         console.log(p.name);
         f1(p);
         console.log(p.name); */



        // 分时显示不同图片，显示不同问候语

        //获取元素
        /* var img = document.querySelector('img');
        var div = document.querySelector('div');
        //得到当前小时数
        var date = new Date();
        var h = date.getHours();
        //判断小时数改变图片和文字信息
        if(h < 12) {
            img.src = 'image/s.gif';
            div.innerHTML = '亲，上午好，好好写代码';
        }else if (h < 18){
            img.src = 'image/x.gif';
            div.innerHTML = '亲，中午好，好好写代码';
        }else {
            img.src = 'image/w.gif';
            div.innerHTML = '亲，晚上好，好好写代码';
        } */


        // 京东显示隐藏密码
        /* var eye = document.getElementById('eye');
        var pwd = document.getElementById('pwd');
    
        var flag = 0;
        eye.onclick = function() {
            if(flag == 0){
                pwd.type = 'text';
                eye.src = 'image/open.png';
                flag = 1;
            }else {
                pwd.type = 'password';
                eye.src = 'image/close.png';
                flag = 0;
            }
        } */



        //关闭淘宝二维码
        // 1.获取元素
        /* var btn = document.querySelector('.close-btn');
        var box = document.querySelector('.box');
        // 2.注册事件  程序处理
        btn.onclick = function(){
            box.style.display = 'none';
        } */



        //循环精灵图
        //1.获取元素
        /* var lis = document.querySelectorAll('li');
        for (var i = 0; i < lis.length; i++){
            var index = i * 44;
            lis[i].style.backgroundPosition = '0 -' + index + 'px';
        } */



        // 显示或隐藏文本框内容
        // 1.获取元素
        /* var text = document.querySelector('input');
        // 2.注册事件，获取焦点事件  onfocus
        text.onfocus = function() {
            if(this.value === '手机') {
                this.value = '';
            }
            this.style.color = '#333';
        }
        // 3.注册事件，失去焦点事件  onblur
        text.onblur = function() {
            if(this.value === '') {
                this.value = '手机';
            }
            this.style.color = '#999';
        } */



        //密码框格式提示错误信息
        // 1.获取元素
        /*   var ipt = document.querySelector('.ipt');
          var message = document.querySelector(".message");
          // 2.注册事件  失去焦点
          ipt.onblur = function() {
              //根据表单里面值的长度  ipt.vlaue.length
              if(this.value.lenght < 6 || this.value.lenght > 16){
                  message.className = 'message wrong';
                  message.innerHTML = '您输入的位数不对要求6~16位';
              }
          } */



        //排他思想（算法）
        // 1.获取元素
        /* var btns = document.getElementsByTagName('button');
        //btns 得到的是伪数组，里面的每一个元素btns[i]
        for(var i = 0; i < btns.length; i++){
            btns[i].onclick = function(){
                 // 我们先把所有按钮的背景颜色去掉，
                for (var i = 0; i < btns.length; i++){
                    btns[i].style.backgroundColor = '';
                }
                // 然后才让当前的元素背景颜色为pink  
                this.style.backgroundColor = 'pink';
            }
        } */




        //百度换肤
        // 1.获取元素
        /* var imgs = document.querySelector('.baidu').querySelectorAll('img');
        // 2.循环注册事件
        for (var i = 0; i < imgs.length; i++){
            imgs[i].onclick = function() {
                document.body.style.backgroundImage = 'url('+this.src+')';
            }
        } */



        //表格隔行变色
        // 1.获取元素
        /* var trs = document.querySelector('tbody').querySelectorAll('tr');
        // 2.循环注册事件
        for (var i = 0; i < trs.length; i++){
            trs[i].onmouseover = function() {
                this.className = 'bg';
            }
            trs[i].onmouseout = function() {
                this.className = '';
            }
        } */




        // 表格全选与取消全选
        // 1.获取元素
        /* var j_cbAll = document.getElementById('j_cbAll');//全选按钮
        var j_tbs = document.getElementById('j_tb').getElementsByTagName('input')//下面所有的复选框
        // 注册事件
        j_cbAll.onclick = function() {
            // this.checked  它可以得到当前复选框的选中状态如果是ture就是选中，如果是flase就是未选中
            console.log(this.checked);
            for (var i = 0; i < j_tbs.length; i++){
                j_tbs[i].checked = this.checked;
            }
        }
        // 2.下面复选框需要全部选中，上面全选才能选中
        for (var i = 0; i < j_tbs.length; i++){
            j_tbs[i].onclick = function() {
                //flage 控制全选按钮是否选中
                var flag = true;
                //每次点击下面的复选框都要循环检查这4个小按钮是否被选中
                for (var i = 0; i < j_tbs.length; i++){
                    if(!j_tbs[i].checked) {
                        flag = false;
                        break;
                    }
                }
                j_cbAll.checked = flag;
            }
        } */




        // tab栏切换案例
        /* var tab_list = document.querySelector('.tab_list');
        var lis = tab_list.querySelectorAll('li');
        var 
        //for循环绑定点击事件
        for (var i = 0; i < lis.length; i++){
            //开始给5个li设置索引号
            lis[i].setAttribute('index',i);
            lis[i].onclick = function() {
                //干掉所有li的class属性
                for (var i = 0; i < lis.length; i++){
                    lis[i].className = '';
                }
                //留下点击的li的属性
                this.className = 'current';

                // 2.下面的显示内容模块
                var index = this.getAttribute('index');
                for (var i = 0; i < item.length; i++){
                    item[i].style.display = 'none';
                }
                item[index].style.display = 'block';
            }
        } */




        // 新浪下拉菜单
        // 1.获取元素
        /* var nav = document.querySelector('.nav');
        var lis = nav.children; //得到四个小li
        //循环注册事件
        for (var i = 0; i < lis.length; i++){
            lis[i].onmouseover = function() {
                this.children[1].style.display = 'block';
            }
            lis[i].onmouseout = function() {
                this.children[1].style.display = 'none';
            }
        } */




        // 返回上下兄弟节点的解决方案（函数封装）
        /* function getNextElementSibling(element) {
            var el = element;
            while (el = el.nextSibling){
                if (el.nodeType === 1) {
                    return el;
                }
            }
            return null;
        } */





        //简单版发布留言案例
        // 1.获取元素
        /* var btn = document.querySelector('button');
        var text = document.querySelector('textarea');
        var ul = document.querySelector('ul');
        // 2.注册事件
        btn.onclick = function() {
            if(text.value == ''){
                alert("您没有输入内容");
                return false;
            }else {
                // (1)创建元素
                var li = document.createElement('li');
                // 现有li才能赋值
                li.innerHTML = text.value;
                // (2)添加元素
                ul.insertBefore(li, ul.children[0]);
            }
        } */





        // 删除节点封装函数
        /* btn.onclick = function() {
            if(ul.children.length == 0){
                this.disabled = true;
            }else {
                ul.removeChild(ul.children[0]);
            }
        } */





        // 删除留言案例
        // 1.获取元素
        /* var btn = document.querySelector('button');
        var text = document.querySelector('textarea');
        var ul = document.querySelector('ul');
        // 2.注册事件
        btn.onclick = function() {
            if(text.value == ''){
                alert("您没有输入内容");
                return false;
            }else {
                // (1)创建元素
                var li = document.createElement('li');
                // 现有li才能赋值
                li.innerHTML = text.value + "<a href = 'javascript:;'>删除</a>";
                // (2)添加元素
                ul.insertBefore(li, ul.children[0]);
                // (3)删除元素 删除的是当前链接的li
                var as = document.querySelectorAll('a');
                for (var i = 0; i < as.length; i++){
                    as[i].onclick = function() {
                        ul.removeChild(this.parentNode);
                    }
                }
            }
        } */






        // 案例：动态生成表格
        // 1.先准备好学生的数据
        /* var datas = [{
            name:'李雪',
            subject:'java',
            score:100
        },{
            name:'石吉文',
            subject:'java',
            score:98
        },{
            name:'徐瀚东',
            subject:'java',
            score:95
        },{
            name:'张发祥',
            subject:'java',
            score:93
        }];
        //2.往tbody里面创建行，有几个人（通过数组的长度）我们就创建几行
        var tbody = document.querySelector('tbody');
        for (var i = 0; i < datas.length; i++){//外面的for循环管行  tr
            //1.创建tr行
            var tr = document.createElement('tr');
            tbody.appendChild(tr);
            //2.行里面创建单元格（跟数据有关系的3个单元格）td单元格的数量取决于每个对象里面的属性个数
            for (var k in datas[i]) {//里面的for循环管列  td
                // 把对象里面的属性值 data[i][k] 给td
                td.innerHTML = datas[i][k];
                tr.appendChild(td);
            }
            // 3.创建有删除2个字的单元格
            var td = document.createElement('td');
            td.innerHTML = '<a href = "javascript:;">删除</a>';
            tr.appendChild(td);
        }
            //4.删除操作  
            var as = document.querySelectorAll('a');
            for (var i = 0; i < as.length; i++){
                as[i].onclick = function() {
                    //点击a删除  当前a所在的行   node.removeChild(child)
                    tbody.removeChild(this.parentNode.parentNode)
                } 
            } */





        // 注册事件兼容性解决方案
        /* function addEventListener(element,eventName,fn) {
            //判断当前浏览器是否支持addEventListener方法
            if (element.addEventListener) {
                element.addEventListener(eventName,fn);
            }else if(element.attachEvent){
                element.attachEvent('on' + eventName,fn);
            }else {
                //相当于element.onclick = fn;
                element['on' + eventName] = fn;
            }
        } */






        // 跟随鼠标小天使案例
        /* var pic = document.querySelector('img');
        document.addEventListener('mousemove',function(e){
            var x = e.pageX;
            var y = e.pageY;
            //一定要给单位
            pic.style.left = x + 'px';
            pic.style.top = y + 'px';
        }) */






        // 模拟京东按键输入内容按下s键获得输入框焦点
        /* var search = document.querySelector('input');
        document.addEventListener('keyup',function(e){
            if(e.keyCode === 83){
                search.focus();
            }
        }) */






        //模拟京东快递单号查询
        /* var con = document.querySelector('.con');
        var jd_input = document.querySelector('.jd');
        jd_input.addEventListener('keyup',function(){
            if(this.value == ''){
                con.style.display = 'none';
            }else {
                con.style.display = 'block';
                con.innerText = this.value;
            }
        })
        //当我们失去焦点，就隐藏这个con盒子
        jd_input.addEventListener('blur',function(){
            con.style.display = 'none';
        })
        //当我们获得焦点，就显示这个con盒子
        jd_input.addEventListener('focus',function(){
            con.style.display = 'block';
        }) */






        // 5秒钟自动关闭广告
        /* var ad = document.querySelector('.ad');
        setTimeout(function(){
            ad.style.display = 'none';
        },5000) */







        // 京东倒计时案例
        /* var hour = document.querySelector('hour');
        var minute = document.querySelector('minute');
        var second = document.querySelector('second');
        var inputTime = +new Date('2022-3-21 17:30:00');
        countDown();
        //2.开启定时器
        setInterval(countDown,1000);
        function countDown() {
            var nowTime = +new Date();//返回的是当前时间总的秒数
            var times = (inputTime - nowTime) / 1000;//times是剩余时间总的秒数
            var h = parseInt(times / 60 / 60 % 24);//时
            h = h < 10 ? '0' + h : h;
            hour.innerHTML = h;
            var m = parseInt(times / 60 %60);//分
            m = m < 10 ? '0' + m : m;
            minute.innerHTML = m;
            var s = parseInt(times % 60);//秒
            s = s < 10 ? '0' + s : s;
            second.innerHTML = s;
        } */






        // 发送短信案例
        /* var btn = document.querySelector('button');
        var time = 3;//定义剩下的秒数
        btn.addEventListener('click',function(){
            btn.disabled = true;//禁用button按钮
            var timer = setInterval(function(){
                if (time == 0){
                    //清除定时器和复原按钮
                    clearInterval(timer);
                    btn.disabled = false;
                    btn.innerHTML = '发送';
                    time = 3;//这个3需要重新开始
                }else {
                    btn.innerHTML = time;
                    time--;
                }
            },1000);
        }) */







        // 5秒钟自动跳转页面
        /* var btn = document.querySelector('button');
        var div = document.querySelector('div');
        btn.addEventListener('click',function(){
            location.href = 'http://www.baidu.com';
        })
        var timer = 5;
        setInterval(function(){
            if(timer == 0){
                location.href = 'http://www.baidu.com';
            }else {
                div.innerHTML = '您将在"+timer+"秒钟之后跳转到首页';
                timer--;
            }
        },1000); */






        //获取URL参数
        // login.html页面
        //<from action = "index.html">
        // 用户名：<input type = "text" name = "uname">
        // <input type "submit" value = "登录">
        //</from>
        // index.html页面
        //1.去掉问号  substr（'起始位置','街区几个字符'）
        /* var parms = location.search.substr(1);
        // 2.利用=把字符串分割成数组 split（'='）;
        var arr = parms.split('=');
        var div = document.querySelector('div');
        // 3.把数据写入div中
        div.innerHTML = arr[1] + '欢迎您'; */






        // 获取鼠标在盒子内的坐标
        /* var box = document.querySelector('.box');
        box.addEventListener('mousemove', function () {
            var x = e.pageX - this.offsetLeft;
            var y = e.pageY - this.offsetTop;
            this.innerHTML = 'x坐标是' + x + 'y坐标是' + y;
        }) */






        // 拖动拟态框，登录页面
        // 1.获取元素
        /* var login = document.querySelector('.login');
        var mask = document.querySelector('login-bg');
        var link = document.querySelector('#link');
        var closeBtn = document.querySelector('#closeBtn');
        var title = document.querySelector('#title');
        // 2.点击弹出层这个链接，link 让mask和login显示出来
        link.addEventListener('click',function(){
            mask.style.display = 'block';
            login.style.display = 'block';
        })
        // 3.点击closeBtn就隐藏，mask和login
        closeBtn.addEventListener('click',function(){
            mask.style.display = 'none';
            login.style.display = 'none';
        })
        // 4.鼠标拖拽
        // (1)当我们鼠标按下，就获得鼠标在盒子内的坐标
        title.addEventListener('mousedown',function(e){
            var x = e.pageX - login.offsetLeft;
            var y = e.pageY - login.offsetTop;
            // (2)鼠标移动的时候，把鼠标在页面中的坐标，减去，鼠标在盒子内的坐标就是拟态框的left和top值
            document.addEventListener('mousemove',move)
            function move(e){
                login.style.left = e.pageX - x + 'px';
                login.style.top = e.pageY - y + 'px';
            }
            // （3）鼠标弹起  就让鼠标移动事件移除
            document.addEventListener('mouseup',function(){
                document.removeEventListener('mousemove',move);
            })
        }) */






        // 仿京东放大镜效果页面结构构造
        /*  window.addEventListener('load',function(){
    var preview_img = document.querySelector('.preview_img');
    var mask = document.querySelector('.mask');
    var big = document.querySelector('.big');
    // 1、当我们鼠标经过perview_img就显示和隐藏mask遮罩层和big大盒子
    preview_img.addEventListener('mouseover',function(){
        mask.style.display = 'block';
        big.style.display = 'block';
    })
    preview_img.addEventListener('mouseout',function(){
        mask.style.display = 'none';
        big.style.display = 'none';
    })
    // 2.鼠标移动的时候，让黄色的盒子跟着鼠标来走
    preview_img.addEventListener('mousemove',function(e){
        // (1)先计算出鼠标在盒子内的坐标
        var x = e.pageX - this.offsetLeft;
        var y = e.pageY - this.offsetTop;
        // (2)减去盒子高度300的一半是150就是我们mask的最终left和top值
        // (3)我们mask移动的距离
        var maskX = x - mask.offsetWidth / 2;
        var maskY = y - mask.offsetHeight / 2;
        var maskMax= preview_img.offsetWidth - mask.offsetWidth;
        // (4)如果x坐标小于了0就让他停在0 的位置
        if(maskX <= 0) {
            maskX = 0;
        }else if(maskX >= maskMax){
            maskX = maskMax;
        }
        if (maskY <= 0){
            maskY = 0;
        }else if(maskY >= maskMax){
            maskY = maskMax;
        }
        mask.style.left = maskX + 'px';
        mask.style.top = maskY + 'px';
        // 大图片移动距离 = 遮挡层移动距离 * 大图片最大移动距离 / 遮挡层的最大移动距离
        var bigImg = document.querySelector('.bigImg');
        //大图片的最大移动距离
        var bigMax = bigImg.offsetWidth - big.offsetWidth;
        //大图片的移动距离 X  Y
        var bigX = maskX * bigMax / maskMax;
        var bigY = maskY * bigMax / maskMax;
        bigImg.style.left = -bigX + 'px';
        bigImg.style.top = -bigY + 'px';
    })
}) */



        // 仿淘宝固定侧边栏
        // 1.获取元素  
        /*  var sliderbar = document.querySelector('.sliderbar');
         var banner = document.querySelector('.banner');
         //banner.offestTop就是被卷去头部的大小，一定要写到滚动的外面
         var bannerTop = banner.offsetTop;
         //当我们侧边栏固定定位之后应该变化的数值
         var sliderbarTop = sliderbar.offsetTop - bannerTop;
         //获取main主体元素
         var main = document.querySelector('.main');
         var goBack = document.querySelector('.goBack');
         var mainTop = main.offsetTop;
         // 2.页面滚动事件  scroll
         document.addEventListener('scroll',function(){
             // window.pageYOffset  页面被卷去的头部
             // 3.当我们页面被卷去的头部大于等于了172此时，侧边栏就要改成固定定位
             if(window.pageYOffset >= bannerTop) {
                 sliderbar.style.position = 'fixed';
                 sliderbar.style.top = sliderbarTop + 'px';
             }else {
                 sliderbar.style.position = 'absolute';
                 sliderbar.style.top = '300px';
             }
             // 4.当我们页面滚动到main盒子，就显示goback模块
             if (window.pageYOffset >= mainTop) {
                 goBack.style.display = 'block';
             }else {
                 goBack.style.display = 'none';
             }
         }) */






        // 简单动画函数封装   obj目标对象  target目标位置
        /* function animate(obj,target) {
           //当我们不断的点击按钮，这个元素的速度会越来越快，因为开启了太多的定时器
           //解决方案就是  让我们元素只有一个定时器执行
           //先清除以前的定时器，只保留当前的一个定时器执行
            clearInterval(obj.timer);
            obj.timer = setInterval(function(){
                if(obj.offsetLeft >= target){
                    //停止动画，本质是停止定时器
                    clearInterval(obj.timer);
                }
                obj.style.left = obj.offsetLeft + 1 +'px';
            },30);
        }
        var div = document.querySelector('div');
        //调用函数
        animate(div,300); */






        // 缓动动画代码实现
        /* function animate(obj,target,callback) {
           //当我们不断的点击按钮，这个元素的速度会越来越快，因为开启了太多的定时器
           //解决方案就是  让我们元素只有一个定时器执行
           //先清除以前的定时器，只保留当前的一个定时器执行
            clearInterval(obj.timer);
            obj.timer = setInterval(function(){
                //步长值写到定时器里面
                // var step = Math.ceil((target - obj.offsetLeft) / 10);
                var step = (target - obj.offsetLeft) / 10;
                step = step > 0 ? Math.ceil(step) : Math.floor(step);
                if(obj.offsetLeft == target){
                    //停止动画，本质是停止定时器
                    clearInterval(obj.timer);
                    //回调函数写到定时器结束里面
                    if(callback){
                        //调用函数
                        callback();
                    }
                }
                //把每次加1  这个步长值改为一把慢慢变小的值
                obj.style.left = obj.offsetLeft + step +'px';
            },15);
    
            var span = document.querySelector('span');
            var btn = document.querySelector('button');
    
            btn.addEventListener('click',function(){
                //调用函数
                animate(span,500,function(){
                    btn.style.backgroundColor = 'red';
                });
            })
        } */





        // 引用animate动画函数
        // 1.获取元素
        // var sliderbar = document.querySelector('.sliderbar');
        // var con = document.querySelector('.con');

        // sliderbar.addEventListener('mouseenter',function(){
        //     ainmate(con,-160,function(){
        //         //当我们动画执行完毕，就把←改成→
        //         sliderbar.children[0].innerHTML = '→';
        //     });
        // })
        // sliderbar.addEventListener('mouseleave',function(){
        //     ainmate(con,0);
        // })





        // 返回顶部案例
        // 当我们点击了返回顶部模块，就让窗口滚动到页面的最上方
        /* goBack.addEventListener('click',function(){
            //里面的x和y  不跟单位 直接写数字即可
            //window.scroll（0,0）
            //因为是窗口滚动  所以对象是window
            animate(window,0);
        });
        //动画函数
        function animate(obj,target,callback) {
        //当我们不断的点击按钮，这个元素的速度会越来越快，因为开启了太多的定时器
        //解决方案就是  让我们元素只有一个定时器执行
        //先清除以前的定时器，只保留当前的一个定时器执行
         clearInterval(obj.timer);
         obj.timer = setInterval(function(){
             //步长值写到定时器里面
             // var step = Math.ceil((target - obj.offsetLeft) / 10);
             var step = (target - window.pageYOffset) / 10;
             step = step > 0 ? Math.ceil(step) : Math.floor(step);
             if(window.pageYOffset == target){
                 //停止动画，本质是停止定时器
                 clearInterval(obj.timer);
                 //回调函数写到定时器结束里面
                //  if(callback){
                //      //调用函数
                //      callback();
                //  }
                callback && callback();
             }
             //把每次加1  这个步长值改为一把慢慢变小的值
            //  obj.style.left = window.pageYOffset + step +'px';
            window.scroll(0,window.pageYOffset + step);
         },15);  
     }     */






        // 筋斗云案例
        /* window.addEventListener('load',function(){
            // 1.获取元素
            var cloud = document.querySelector('.cloud');
            var c_nav = document.querySelector('.c_nav');
            var lis = document.querySelectorAll('li');
            // 2.给所有的小li绑定事件
            for (i = 0; i < lis.length; i++){
                lis[i].addEventListener('mouseenter',function(){
                    animate(cloud,current);
                });
                // 3.当我们鼠标点击，就把当前位置作为目标值
                lis[i].addEventListener('click',function(){
                    current = this,offsetLeft;
                })
            }
        }) */






        // 移动端拖动元素
        /* var div = document.querySelector('div');
        var startX = 0;//获取手指初始坐标
        var startY = 0;
        var x = 0;//获取盒子原来的位置
        var y = 0;
        div.addEventListener('touchstart',function(e){
            //获取手指初始坐标
            startX = e.targetTouches[0].pageX;
            startY = e.targetTouches[0].pageY;
            x = this.offsetLeft;
            y = thos.offsetTop;
        });
        div.addEventListener('touchstart',function(e){
            //计算手指的移动距离，手指移动之后的坐标减去手指初始的坐标
           var moveX = e.targetTouches[0].pageX - startX;
           var moveY = e.targetTouches[0].pageY - startY;
           //移动我们的盒子  盒子原来的位置 + 手指移动的距离
           this.style.left = x + moveX + 'px';
           this.style.top = y + moveY + 'px';
           e.preventDefault();//阻止屏幕滚动的默认行为
        }); */






        // 移动端轮播图
        // 1.获取元素
        /* window.addEventListener('load', function () {
            var focus = document.querySelector('.focus');
            var ul = focus.children[0];
            //获取focus的宽度
            var w = focus.offsetWidth;
            // 2.利用定时器自动轮播图图片
            var index = 0;
            var timer = setInterval(function () {
                index++;
                var translatex = -index * w;
                ul.style.transition = 'all 0.3s';
                ul.style.transform = 'translateX(' + translatex + 'px)';
            }, 2000);
            //等着我们过渡完成之后，再去判断 监听过渡完成的事件  transitionend
            ul.addEventListener('transitionend', function () {
                //无缝滚动
                if (index >= 3) {
                    index = 0;
                    //去掉过渡效果，这样让我们的ul  快速的跳到目标位置
                    ul.style.transition = 'none';
                    //利用最新的索引号乘以宽度   去滚动图片
                    var translatex = -index * w;
                    ul.style.transform = 'translateX(' + translatex + 'px)';
                } else if (index < 0) {
                    index = 2;
                    ul.style.transition = 'none'
                    //利用最新的索引号乘以宽度   去滚动图片
                    var translatex = -index * w;
                    ul.style.transform = 'translateX(' + translatex + 'px)';
                }
                // 3.小圆点跟随变化
                // 把ol里面li带有的current类名的选出来去掉类名 remove
                ol.querySelector('.current').classList.remove('current');
                //让当前索引号的小li加上current   add
                ol.children[index].classList.add('current');
            });
            //4.手指滑动轮播图
            //触摸元素  touchstart：获取手指初始坐标
            var startX = 0;
            var moveX = 0;//后面我们会使用这个移动距离所以要定义一个全局变量
            var flag = false;
            ul.addEventListener('touchstart', function (e) {
                startX = e.targetTouches[0].pageX;
                //手指触摸的时候就停止定时器
                clearInterval(timer);
            });
            //移动手指  touchmove：计算手指的滑动距离，并且移动盒子
            ul.addEventListener('touchmove', function (e) {
                1
                //计算移动距离
                moveX = e.targetTouches[0].pageX - startX;
                //移动盒子：盒子原来的位置 + 手指移动的距离
                var translateX = -index * w + moveX;
                //手指拖动的时候，不需要动画效果所以要取消过渡效果
                ul.style.transition = 'none';
                ul.style.transform = 'translateX(' + translateX + 'px)';
                flag = true;//如果用户手指移动过我们再去判断否则不做判断效果
                e.preventDefault();//阻止滚动屏幕的行为
            });
            //手指离开  根据移动距离去判断是回弹还是播放上一张还是下一张
            ul.addEventListener('touchend', function (e) {
                if (flag) {
                    // (1)如果移动距离大于50像素我们就播放上一张或者下一张
                    if (Math.abs(moveX) > 50) {
                        //如果是右滑就是播放上一章moveX是正值
                        if (moveX > 0) {
                            index--;
                        } else {
                            //如果是左滑就是 播放下一张  moveX是负值
                            index++;
                        }
                        var translatex = -index * w;
                        ul.style.transition = 'all .3s';
                        ul.style.transform = 'translateX(' + translateX + 'px)';
                    } else {
                        // (2)如果移动距离小于50像素我们就回弹
                        var translateX = -index * w + moveX;
                        ul.style.transition = 'all .1s';
                        ul.style.transform = 'translateX(' + translateX + 'px)';
                    }
                }
                //手指离开的时候就重新开启定时器
                clearInterval(timer);
                timer = setInterval(function () {
                    index++;
                    var translatex = -index * w;
                    ul.style.transition = 'all 0.3s';
                    ul.style.transform = 'translateX(' + translatex + 'px)';
                }, 2000);
            });
        }) */







        //返回顶部案例
        /* var goBack = document.querySelector('.goBack');
        var nav = document.querySelector('nav');
        window.addEventListener('scroll', function () {
            if (window.pageXOffset >= nav.offsetTop) {
                goBack.style.display = 'block';
            } else {
                goBack.style.display = 'none';
            }
        });
        goBack.addEventListener('click', function () {
            window.scroll(0, 0);
        }) */






        // 记住用户名案例
        /*  var username = document.querySelector('#username');
         var remember = document.querySelector('#remember');
         if (localStorage.getItem('username')) {
             username.value = localStorage.getItem('username');
             remember.checked = true;
         }
         //change事件，当发生改变时要怎么样
         remember.addEventListener('change', function () {
             if (this.checked) {
                 localStorage.setItem('username', username.value)
             } else {
                 localStorage.removeItem('username');
             }
         }) */





        //渲染图书列表（核心代码）
        // function getBookList() {
        //     //1.发起ajax请求获取图书列表数据
        //     $.get('http://www.liulongbin.top:3006/api/getbooks', function (res) {
        //         //2.获取列表数据是否成功
        //         if (res.status !== 200) return alert('获取图书列表失败！')
        //         //3.渲染页面结构
        //         var rows = []
        //         $.each(res.data, function (i, item) {//4.循环拼接字符串
        //             row.push('<tr><td>' + item.id + '</td><td>' + item.bookname + '</tr><td>' + item.author + '</td><td>' + item.publisher + '</td><td><a href = "javascript:;">删除</a></td></tr>')
        //         })
        //         $('#bookBody').empty().append(row.join(''))//5.渲染表格结构
        //     })
        // }





        //监听表单提交事件的两种方法
        /* $('#form1').submit(function (e) {
            alert('监听到了表单的提交事件')
        })

        $('#form1').on('submit',function (e) {
            alert('监听到了表单的提交事件')
        }) */




        // 快速获取表单的值
        /* $('#f1').submit(function (e) {
            e.preventDefault()
            var data = $(this).serialize()
            console.log(data);
        })

        // 第二种方式
        $('#f1').on('submit', function (e) {
            e.preventDefault()
            var data = $(this).serialize()
            console.log(data);
        }) */







        // 定义一个格式化时间的过滤器
        /* template.defaults.imports.dateFormat = function (data) {
            var y = date.getFullYear()
            var m = date.getMonth() + 1
            var d = data.getDate()

            return y + '_' + m + '_' + d
        } */





        /* var str = 'hello'
        var pattern = /o/
        //输出的结果
        var result = pattern.exec(str)
        console.log(result)


        var str = '<div>我是{{name}}</div>'
        var pattern = /{{([a-zA-Z]+)}}/
        var result = pattern.exec(str)
        console.log(result)


        var str = '<div>我是{{name}}</div>'
        var pattern = /{{([a-zA-Z]+)}}/
        var patternResult = pattern.exec(str)
        str = str.replace(patternResult[0], patternResult[1])
        console.log(str)



        var str = '<div>我是{{name}}今年{{age}}岁了</div>'
        var pattern = /{{\s*([a-zA-Z]+)\s*}}/
        var patternResult = pattern.exec(str)
        str = str.replace(patternResult[0], patternResult[1])
        console.log(str)

        patternResult = pattern.exec(str)
        str = str.replace(patternResult[0], patternResult[1])
        console.log(str)

        patternResult = pattern.exec(str)
        console.log(patternResult)



        var str = '<div>我是{{name}}今年{{age}}岁了</div>'
        var pattern = /{{\s*([a-zA-Z]+)\s*}}/

        var patternResult = null
        while (patternResult = pattern.exec(str)) {
            str = str.replace(patternResult[0], patternResult[1])
        }
        console.log(str); */


        /* var data = { name: '张三', age: 20 }

        var str = '<div>我是{{name}}今年{{age}}岁了</div>'
        var pattern = /{{\s*([a-zA-Z]+)\s*}}/

        var patternResult = null
        while (patternResult = pattern.exec(str)) {
            str = str.replace(patternResult[0], data[patternResult[1]])
        }
        console.log(str);
 */




        
        



    </script>



        // 定义模板结构
        <!-- // <script type="text/html" id="tpl-user">
        //     <div>姓名：{{ name }}</div>
        //     <div>年龄：{{ age }}</div>
        //     <div>性别：{{ gender }}</div>
        //     <div>住址：{{ address }}</div>
        // </script> -->

        //预调用模板引擎
        <!-- <script>
            //定义数据
            var data = {name:'zs',age:28,gender:'男',address:'北京顺义马坡'}

            //调用模板函数
            var htmlStr = template('tpl-user',data)

            //渲染HTML结构
            document.getElementById('user-box').innerHTML = htmlStr
        </script> -->


        //封装template函数
        function template(id,data) {
            var str = document.getElementById(id).innerHTML
            var pattern = /{{\s*([a-zA-Z]+)\s*}}/

            var patternResult = null
        
            while (patternResult = pattern.exec(str)) {
            str = str.replace(patternResult[0], data[patternResult[1]])
        }
            console.log(str);
        }



</head>

<body>

</body>

</html>